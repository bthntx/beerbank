(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/star-filled.83429d06.svg"},12:function(e,t,a){e.exports=a.p+"static/media/close.d375d696.svg"},14:function(e,t,a){e.exports=a(27)},20:function(e,t,a){},22:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(8),s=a.n(l),c=(a(20),a(6)),i=a(1),o=a(2),m=a(4),u=a(3),f=a(5);a(22);var p=function(e){return n.a.createElement("header",{className:"App-header"},n.a.createElement("h2",{className:"font-weight-bolder"},"The Beer Bank"),n.a.createElement("p",{className:"small"},"Find your favorite beer here"),n.a.createElement("input",{type:"text",className:"w-75 small",placeholder:"Search for beer name",value:e.searchName,onChange:function(t){return e.clickHandler(t.target.value)}}))},d=a(9),h=a.n(d),v=a(10),b=a.n(v);function g(e,t){return t.findIndex(function(t){return t===e})}var E=function(e){return e.favFilter&&g(e.beer.id,e.favList)<0?n.a.createElement("div",null):n.a.createElement("div",{className:"d-flex col-12 col-xs-12 col-sm-6 col-md-4  ",onClick:function(){return e.clickHandler(e.beer)}},n.a.createElement("div",{className:"card card-for-list scaled text-center",style:{width:"18rem"}},n.a.createElement("div",{className:"card-body  mb-3 mt-3"},n.a.createElement("img",{src:g(e.beer.id,e.favList)>-1?b.a:h.a,className:"star",alt:"X",onClick:function(t){e.favHandler(e.beer.id),t.stopPropagation()}}),n.a.createElement("img",{src:e.beer.image_url,style:{height:"10rem"},alt:e.beer.name}),n.a.createElement("h5",{className:"card-title orange mt-3"},e.beer.name),n.a.createElement("p",{className:"small mb-2 text-muted"},e.beer.tagline))))},N=a(11),w=a.n(N);var O=function(e){return function(t){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(n)))).state={data:[],page:1,fetchedAllPages:!1,scrolling:!1,initFillComplete:!1,noInfinite:t.props.params.noInfinite},t.loadNew=function(){t.setState(function(){return{page:1,data:[],fetchedAllPages:!1,scrolling:!1,initFillComplete:!1}},t.loadData)},t.loadMore=function(){t.setState(function(e){return{page:e.page+1}},t.loadData)},t.handleScroll=function(){var e=t.state,a=e.scrolling,r=e.fetchedAllPages;if(!a&&!0!==r){var n=t.calculatePageOffsets();n.pageOffset>n.elementOffset-n.bottomOffset&&t.loadMore()}},t.loadData=function(){var e=t.state,a=e.data,r=e.page,n=e.fetchedAllPages;if(!n){var l=t.props.params.url.replace("#pnum#",r);w()(l).then(function(e){return e.json()}).then(function(e){e&&0!==e.length||(n=!0),t.setState(function(){return{fetchedAllPages:n,data:[].concat(Object(c.a)(a),Object(c.a)(e))}},t.checkInitFill)})}},t.calculatePageOffsets=function(){var e=document.querySelector("div."+t.props.params.selectorClass+" > div:last-child");if(!e)return{pageOffset:0,elementOffset:0,bottomOffset:0};var a=e.offsetTop+e.clientHeight;return{pageOffset:window.pageYOffset+window.innerHeight,elementOffset:a,bottomOffset:50}},t.checkInitFill=function(){if(!t.state.initFillComplete&&!t.state.noInfinite){var e=t.calculatePageOffsets();e.pageOffset>e.elementOffset?t.loadMore():t.setState({initFillComplete:!0})}},t}return Object(f.a)(a,t),Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.loadData(),this.state.noInfinite||(this.scrollListener=window.addEventListener("scroll",function(t){e.handleScroll(t)}))}},{key:"componentWillReceiveProps",value:function(e,t){e.params.url!==this.props.params.url&&this.loadNew()}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:this.props.params.selectorClass+" row "},this.state.data.map(function(a){return n.a.createElement(e,Object.assign({key:t.props.params.selectorClass.concat(a.id),beer:a},t.props))}))}}]),a}(n.a.Component)},y=function(e){function t(e,a){var r;return Object(i.a)(this,t),(r=Object(m.a)(this,Object(u.a)(t).call(this,e,a))).MyList=O(E),r}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e={selectorClass:"beerList",url:this.props.url};return n.a.createElement("div",{className:"d-flex justify-content-center mb-5"},n.a.createElement(this.MyList,{params:e,clickHandler:this.props.clickHandler,favHandler:this.props.favHandler,favList:this.props.favList,favFilter:this.props.favFilter}))}}]),t}(n.a.Component),k=a(13);var x=function(e){var t=Object(k.a)(e.clickHandlers,2),a=t[0],r=t[1];return n.a.createElement("div",{className:"nav-buttons bg-orange"},n.a.createElement("a",{href:"#",onClick:a},"HOME"),n.a.createElement("a",{href:"#",onClick:r},"FAVOURITE"))},j=a(12),H=a.n(j);var C=function(e){return n.a.createElement("div",{className:" col-xs-12 col-md-6 col-lg-4 p-3",style:{maxWidth:"9.5rem"}},n.a.createElement("div",{className:"suggestedBeer text-center pt-2"},n.a.createElement("img",{className:"align-self-center",src:e.beer.image_url,style:{height:"100px"},alt:e.beer.name}),n.a.createElement("h5",{className:"mt-2 text-muted"},e.beer.name)))},I="https://api.punkapi.com/v2/beers?page=#pnum#&per_page=12",_="https://api.punkapi.com/v2/beers?page=#pnum#&per_page=12&ids=#ids#",S="https://api.punkapi.com/v2/beers?page=#pnum#&per_page=12&beer_name=#name#",B="https://api.punkapi.com/v2/beers?page=1&per_page=3&ibu_gt=#ibu_gt#&ibu_lt=#ibu_lt#";var F=function(e){if(!e.beer)return document.body.style.overflow="auto",n.a.createElement("div",{className:"hide"});var t=O(C),a={noInfinite:!0,selectorClass:"suggestedBeerList",url:B.replace("#ebc_lt#",parseInt(e.beer.ebc+1)).replace("#ebc_gt#",Math.max(parseInt(e.beer.ebc-1),0)).replace("#abv_lt#",parseInt(e.beer.abv+1)).replace("#abv_gt#",Math.max(parseInt(e.beer.abv-1),0)).replace("#ibu_lt#",parseInt(e.beer.ibu+5)).replace("#ibu_gt#",Math.max(parseInt(e.beer.ibu-5),0))};return document.body.style.overflow="hidden",n.a.createElement("div",{className:"d-flex justify-content-center App-ovelay",onClick:e.closeHandler},n.a.createElement("div",{className:"card col-xs-12 col-sm-12 col-md-8 m-md-5  ",style:{maxWidth:"600px",maxHeight:"900px"}},n.a.createElement("div",{className:"w-100 mt-2 text-right"},n.a.createElement("img",{src:H.a,className:"close",alt:"close",onClick:e.closeHandler})),n.a.createElement("div",{className:"card border-0 mt-3 mb-3 overflow-auto",onClick:function(e){e.stopPropagation()}},n.a.createElement("div",{className:"p-3 mt-3"},n.a.createElement("div",{className:"ml-5 mr-5 float-left",style:{minHeight:"320px"}},n.a.createElement("img",{src:e.beer.image_url,style:{width:"100px"},alt:e.beer.name})),n.a.createElement("div",{className:"",style:{minHeight:"320px"}},n.a.createElement("h4",{className:"mt-0 orange"},e.beer.name),n.a.createElement("p",{className:"mt-0   text-muted"},e.beer.tagline),n.a.createElement("div",{className:"progress",style:{width:e.beer.abv+"%",height:"5px",backgroundColor:"#b33e9a"}}),n.a.createElement("div",{className:"d-flex justify-content-between w-50"},n.a.createElement("p",null,"IBU: ",n.a.createElement("span",{className:"font-weight-light text-muted"},e.beer.ibu)),n.a.createElement("p",null,"ABV: ",n.a.createElement("span",{className:"font-weight-light text-muted"},e.beer.abv)),n.a.createElement("p",null,"EBC: ",n.a.createElement("span",{className:"font-weight-light text-muted"},e.beer.ebc))),n.a.createElement("div",{className:"small"},e.beer.description),n.a.createElement("div",{className:"mt-0 small font-weight-bold"},"Best served with:",n.a.createElement("ul",null,e.beer.food_pairing.map(function(e){return n.a.createElement("li",{key:Math.random(),className:"small text-muted",style:{listStylePosition:"inside"}},e)}))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"pl-3 pr-3"},n.a.createElement("h4",{className:"mt-0 orange"},"You might also like:"),n.a.createElement(t,{params:a})))))},P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).showBeer=function(e){a.setState({beerInfo:e})},a.hideBeer=function(){a.setState({beerInfo:null})},a.findBeer=function(e){var t=e.length>0?S.replace("#name#",e):I;a.setState({searchName:e,fetchUrl:t})},a.showFavs=function(){var e=_.replace("#ids#",a.state.favourites.join("|"));a.setState({searchName:"",currentPage:"FAVOURITES",fetchUrl:e})},a.showHome=function(){a.setState({searchName:"",currentPage:"HOME",fetchUrl:I})},a.favClick=function(e){var t=g(e,a.state.favourites);t>=0?a.setState(function(e){var a=Object(c.a)(e.favourites);return a.splice(t,1),{favourites:a}}):a.setState(function(t){return{favourites:[].concat(Object(c.a)(t.favourites),[e])}})},a.state={beerInfo:null,searchName:"",favourites:[],fetchUrl:I,currentPage:"HOME"},a}return Object(f.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(x,{clickHandlers:[this.showHome,this.showFavs]}),n.a.createElement(p,{clickHandler:this.findBeer,searchName:this.state.searchName}),n.a.createElement(y,{url:this.state.fetchUrl,clickHandler:this.showBeer,favHandler:this.favClick,favList:this.state.favourites,favFilter:"FAVOURITES"===this.state.currentPage&&this.state.favourites}),n.a.createElement(F,{beer:this.state.beerInfo,closeHandler:this.hideBeer}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(25);s.a.render(n.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a.p+"static/media/star.9d3acab1.svg"}},[[14,2,1]]]);
//# sourceMappingURL=main.ca2df6c6.chunk.js.map